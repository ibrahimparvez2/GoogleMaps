<html>  
    <head>  
            <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOURKEYGOESHERE"
            type="text/javascript"></script>    
        <title>Geolocation</title>  
        <body>  
           <p>My Geolocation is <span id="mylocation"></span></p> 
           <button onclick="getLocation()">Try It</button>
           <p id=demo></p>
           <article></article>
        </body>
    </head>
    
    
</html>    
<script> 
   function success(position) {  
      var mapcanvas = document.createElement('div');  
      mapcanvas.id = 'mapcontainer';  
      mapcanvas.style.height = '400px';  
      mapcanvas.style.width = '600px';  
      document.querySelector('article').appendChild(mapcanvas);  
      var coords = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);  
      var options = {  
         zoom: 15,  
         center: coords,  
         mapTypeControl: false,  
         navigationControlOptions:{  
         style: google.maps.NavigationControlStyle.SMALL  
      },  
      mapTypeId: google.maps.MapTypeId.ROADMAP  
   };  

   var map = new google.maps.Map(document.getElementById('mapcontainer'),options);  
   var marker = new google.maps.Marker({  
   position: coords,  
   map: map,  
   title: 'you are here'  
})

addMarker("51.51610, -0.12728",map);
};    


function addMarker(location,map) {
  // parse the input string into a google.maps.LatLng 
  var coords = location.split(",");
  var position = new google.maps.LatLng(
                       parseFloat(coords[0]), 
                       parseFloat(coords[1])
                     );
  var markers=new google.maps.Marker({
        position:position
      });

  markers.setMap(map);
}

        var x = document.getElementById("demo");
        function getLocation() {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(success);
          } else {
            x.innerHTML = 'Geolocation is not supported by this browser.';
          }
        }
        
        function showPosition(position) {
        //   x.innerHTML = "Latitude: " + position.coords.latitude + 
        //   "<br>Longitude: " + position.coords.longitude; 
        }

</script>
